/*! dnd 06-08-2015 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d,e,f,g,h,i=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};h=a("../lib/lodash.js"),g=a("./helpers"),e=a("./context"),f={},f.render=function(a,b,c,d){var i,j;return null==b&&(b=[]),null==c&&(c={}),null==d&&(d={}),i=d.debug&&console?g.consoleLogger:g.nullLogger,i("Transparency.render:",a,b,c,d),a?(h.isArray(b)||(b=[b]),a=(j=g.data(a)).context||(j.context=new e(a,f)),a.render(b,c,d).el):void 0},f.matcher=function(a,b){return a.el.id===b||i.call(a.classNames,b)>=0||a.el.name===b||a.el.getAttribute("data-bind")===b},f.clone=function(a){return d(a).clone()[0]},f.jQueryPlugin=g.chainable(function(a,b,c){var d,e,g,h;for(h=[],e=0,g=this.length;g>e;e++)d=this[e],h.push(f.render(d,a,b,c));return h}),("undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof Zepto&&null!==Zepto)&&(d=jQuery||Zepto,null!=d&&(d.fn.render=f.jQueryPlugin)),("undefined"!=typeof b&&null!==b?b.exports:void 0)&&(b.exports=f),"undefined"!=typeof window&&null!==window&&(window.Transparency=f),("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(function(){return f})},{"../lib/lodash.js":7,"./context":3,"./helpers":5}],2:[function(a,b,c){var d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=a("../lib/lodash"),j=a("./helpers"),b.exports=e={Attributes:{},createAttribute:function(a,b){var c;return new(c=e.Attributes[b]||d)(a,b)}},d=function(){function a(a,b){this.el=a,this.name=b,this.templateValue=this.el.getAttribute(this.name)||""}return a.prototype.set=function(a){return this.el[this.name]=a,this.el.setAttribute(this.name,a.toString())},a}(),f=function(a){function b(a,b){this.el=a,this.name=b,this.templateValue=this.el.getAttribute(this.name)||!1}var c,d,f,g;for(m(b,a),c=["hidden","async","defer","autofocus","formnovalidate","disabled","autofocus","formnovalidate","multiple","readonly","required","checked","scoped","reversed","selected","loop","muted","autoplay","controls","seamless","default","ismap","novalidate","open","typemustmatch","truespeed"],f=0,g=c.length;g>f;f++)d=c[f],e.Attributes[d]=b;return b.prototype.set=function(a){return this.el[this.name]=a,a?this.el.setAttribute(this.name,this.name):this.el.removeAttribute(this.name)},b}(d),i=function(a){function b(a,b){var c;this.el=a,this.name=b,this.templateValue=function(){var a,b,d,e;for(d=this.el.childNodes,e=[],a=0,b=d.length;b>a;a++)c=d[a],c.nodeType===j.TEXT_NODE&&e.push(c.nodeValue);return e}.call(this).join(""),this.children=k.toArray(this.el.children),(this.textNode=this.el.firstChild)?this.textNode.nodeType!==j.TEXT_NODE&&(this.textNode=this.el.insertBefore(this.el.ownerDocument.createTextNode(""),this.textNode)):this.el.appendChild(this.textNode=this.el.ownerDocument.createTextNode(""))}return m(b,a),e.Attributes.text=b,b.prototype.set=function(a){for(var b,c,d,e,f;b=this.el.firstChild;)this.el.removeChild(b);for(this.textNode.nodeValue=a,this.el.appendChild(this.textNode),e=this.children,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.el.appendChild(b));return f},b}(d),h=function(a){function b(a){this.el=a,this.templateValue="",this.children=k.toArray(this.el.children)}return m(b,a),e.Attributes.html=b,b.prototype.set=function(a){for(var b,c,d,e,f;b=this.el.firstChild;)this.el.removeChild(b);for(this.el.innerHTML=a+this.templateValue,e=this.children,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.el.appendChild(b));return f},b}(d),g=function(a){function b(a){b.__super__.constructor.call(this,a,"class")}return m(b,a),e.Attributes["class"]=b,b}(d)},{"../lib/lodash":7,"./helpers":5}],3:[function(a,b,c){var d,e,f,g,h,i,j;j=a("./helpers"),g=j.before,f=j.after,h=j.chainable,i=j.cloneNode,e=a("./instance"),b.exports=d=function(){function a(a,b){this.el=a,this.Transparency=b,this.template=i(this.el),this.instances=[new e(this.el,this.Transparency)],this.instanceCache=[]}var b,c;return c=h(function(){return this.parent=this.el.parentNode,this.parent?(this.nextSibling=this.el.nextSibling,this.parent.removeChild(this.el)):void 0}),b=h(function(){return this.parent?this.nextSibling?this.parent.insertBefore(this.el,this.nextSibling):this.parent.appendChild(this.el):void 0}),a.prototype.render=g(c)(f(b)(h(function(a,b,c){for(var d,f,g,h,j,k,l;a.length<this.instances.length;)this.instanceCache.push(this.instances.pop().remove());for(;a.length>this.instances.length;)g=this.instanceCache.pop()||new e(i(this.template),this.Transparency),this.instances.push(g.appendTo(this.el));for(l=[],f=j=0,k=a.length;k>j;f=++j)h=a[f],g=this.instances[f],d=[],l.push(g.prepare(h,d).renderValues(h,d).renderDirectives(h,f,b).renderChildren(h,d,b,c));return l}))),a}()},{"./helpers":5,"./instance":6}],4:[function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty,p=function(a,b){function c(){this.constructor=a}for(var d in b)o.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};n=a("../lib/lodash.js"),m=a("./helpers"),d=a("./attributeFactory"),b.exports=g={Elements:{input:{}},createElement:function(a){var b,c;return new(b="input"===(c=a.nodeName.toLowerCase())?g.Elements[c][a.type.toLowerCase()]||h:g.Elements[c]||f)(a)}},f=function(){function a(a){this.el=a,this.attributes={},this.childNodes=n.toArray(this.el.childNodes),this.nodeName=this.el.nodeName.toLowerCase(),this.classNames=this.el.className.split(" "),this.originalAttributes={}}return a.prototype.empty=function(){for(var a;a=this.el.firstChild;)this.el.removeChild(a);return this},a.prototype.reset=function(){var a,b,c,d;c=this.attributes,d=[];for(b in c)a=c[b],d.push(a.set(a.templateValue));return d},a.prototype.render=function(a){return this.attr("text",a)},a.prototype.attr=function(a,b){var c,e;return c=(e=this.attributes)[a]||(e[a]=d.createAttribute(this.el,a,b)),null!=b&&c.set(b),c},a.prototype.renderDirectives=function(a,b,c){var d,e,f,g;g=[];for(e in c)o.call(c,e)&&(d=c[e],"function"==typeof d&&(f=d.call(a,{element:this.el,index:b,value:this.attr(e).templateValue}),null!=f?g.push(this.attr(e,f)):g.push(void 0)));return g},a}(),j=function(a){function b(a){b.__super__.constructor.call(this,a),this.elements=m.getElements(a)}return p(b,a),g.Elements.select=b,b.prototype.render=function(a){var b,c,d,e,f;for(a=a.toString(),e=this.elements,f=[],c=0,d=e.length;d>c;c++)b=e[c],"option"===b.nodeName&&f.push(b.attr("selected",b.el.value===a));return f},b}(f),l=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}var c,d,e,f;for(p(b,a),c=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],e=0,f=c.length;f>e;e++)d=c[e],g.Elements[d]=b;return b.prototype.attr=function(a,c){return"text"!==a&&"html"!==a?b.__super__.attr.call(this,a,c):void 0},b}(f),h=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),b.prototype.render=function(a){return this.attr("value",a)},b}(l),k=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),g.Elements.textarea=b,b}(h),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),g.Elements.input.checkbox=b,b.prototype.render=function(a){return this.attr("checked",Boolean(a))},b}(h),i=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return p(b,a),g.Elements.input.radio=b,b}(e)},{"../lib/lodash.js":7,"./attributeFactory":2,"./helpers":5}],5:[function(a,b,c){var d,e,f,g;d=a("./elementFactory"),c.before=function(a){return function(b){return function(){return a.apply(this,arguments),b.apply(this,arguments)}}},c.after=function(a){return function(b){return function(){return b.apply(this,arguments),a.apply(this,arguments)}}},c.chainable=c.after(function(){return this}),c.onlyWith$=function(a){return"undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof Zepto&&null!==Zepto?function(b){return a(arguments)}(jQuery||Zepto):void 0},c.getElements=function(a){var b;return b=[],g(a,b),b},g=function(a,b){var e,f;for(e=a.firstChild,f=[];e;)e.nodeType===c.ELEMENT_NODE&&(b.push(new d.createElement(e)),g(e,b)),f.push(e=e.nextSibling);return f},c.ELEMENT_NODE=1,c.TEXT_NODE=3,f=function(){return"<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML},c.cloneNode="undefined"==typeof document||null===document||f()?function(a){return a.cloneNode(!0)}:function(a){var b,d,f,g,h;if(b=Transparency.clone(a),b.nodeType===c.ELEMENT_NODE)for(b.removeAttribute(e),h=b.getElementsByTagName("*"),f=0,g=h.length;g>f;f++)d=h[f],d.removeAttribute(e);return b},e="transparency",c.data=function(a){return a[e]||(a[e]={})},c.nullLogger=function(){},c.consoleLogger=function(){return console.log(arguments)},c.log=c.nullLogger},{"./elementFactory":4}],6:[function(a,b,c){var d,e,f,g,h={}.hasOwnProperty;g=a("../lib/lodash.js"),e=(f=a("./helpers")).chainable,b.exports=d=function(){function a(a,b){this.Transparency=b,this.queryCache={},this.childNodes=g.toArray(a.childNodes),this.elements=f.getElements(a)}return a.prototype.remove=e(function(){var a,b,c,d,e;for(d=this.childNodes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.parentNode.removeChild(a));return e}),a.prototype.appendTo=e(function(a){var b,c,d,e,f;for(e=this.childNodes,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(a.appendChild(b));return f}),a.prototype.prepare=e(function(a){var b,c,d,e,g;for(e=this.elements,g=[],c=0,d=e.length;d>c;c++)b=e[c],b.reset(),g.push(f.data(b.el).model=a);return g}),a.prototype.renderValues=e(function(a,b){var c,d,e,f;if(g.isElement(a)&&(c=this.elements[0]))return c.empty().el.appendChild(a);if("object"==typeof a){f=[];for(d in a)h.call(a,d)&&(e=a[d],null!=e&&(g.isString(e)||g.isNumber(e)||g.isBoolean(e)||g.isDate(e)?f.push(function(){var a,b,f,g;for(f=this.matchingElements(d),g=[],a=0,b=f.length;b>a;a++)c=f[a],g.push(c.render(e));return g}.call(this)):"object"==typeof e?f.push(b.push(d)):f.push(void 0)));return f}}),a.prototype.renderDirectives=e(function(a,b,c){var d,e,f,g;g=[];for(f in c)h.call(c,f)&&(d=c[f],"object"==typeof d&&("object"!=typeof a&&(a={value:a}),g.push(function(){var c,g,h,i;for(h=this.matchingElements(f),i=[],c=0,g=h.length;g>c;c++)e=h[c],i.push(e.renderDirectives(a,b,d));return i}.call(this))));return g}),a.prototype.renderChildren=e(function(a,b,c,d){var e,f,g,h,i;for(i=[],g=0,h=b.length;h>g;g++)f=b[g],i.push(function(){var b,g,h,i;for(h=this.matchingElements(f),i=[],b=0,g=h.length;g>b;b++)e=h[b],i.push(this.Transparency.render(e.el,a[f],c[f],d));return i}.call(this));return i}),a.prototype.matchingElements=function(a){var b,c,d;return c=(d=this.queryCache)[a]||(d[a]=function(){var c,d,e,f;for(e=this.elements,f=[],c=0,d=e.length;d>c;c++)b=e[c],this.Transparency.matcher(b,a)&&f.push(b);return f}.call(this)),f.log("Matching elements for '"+a+"':",c),c},a}()},{"../lib/lodash.js":7,"./helpers":5}],7:[function(a,b,c){var d={};d.toString=Object.prototype.toString,d.toArray=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b},d.isString=function(a){return"[object String]"==d.toString.call(a)},d.isNumber=function(a){return"[object Number]"==d.toString.call(a)},d.isArray=Array.isArray||function(a){return"[object Array]"===d.toString.call(a)},d.isDate=function(a){return"[object Date]"===d.toString.call(a)},d.isElement=function(a){return!(!a||1!==a.nodeType)},d.isPlainValue=function(a){var b;return b=typeof a,"object"!==b&&"function"!==b||c.isDate(a)},d.isBoolean=function(a){return a===!0||a===!1},b.exports=d},{}]},{},[1]);var abilities,abilityScore;abilities=["str","dex","con","int","wis","cha"],abilityScore={8:{pointsCost:0,modifier:-1},9:{pointsCost:1,modifier:-1},10:{pointsCost:2,modifier:0},11:{pointsCost:3,modifier:0},12:{pointsCost:4,modifier:1},13:{pointsCost:5,modifier:1},14:{pointsCost:7,modifier:2},15:{pointsCost:9,modifier:2}};var raceBonuses;raceBonuses={Human:{"bonus-str":1,"bonus-dex":1,"bonus-con":1,"bonus-int":1,"bonus-wis":1,"bonus-cha":1},Dwarf:{"bonus-str":0,"bonus-dex":0,"bonus-con":2,"bonus-int":0,"bonus-wis":0,"bonus-cha":0},Elf:{"bonus-str":0,"bonus-dex":2,"bonus-con":0,"bonus-int":0,"bonus-wis":0,"bonus-cha":0},"Half-Elf":{"bonus-str":0,"bonus-dex":0,"bonus-con":0,"bonus-int":0,"bonus-wis":0,"bonus-cha":2,other:2},Halfling:{"bonus-str":0,"bonus-dex":2,"bonus-con":0,"bonus-int":0,"bonus-wis":0,"bonus-cha":0},"Half-Orc":{"bonus-str":2,"bonus-dex":0,"bonus-con":1,"bonus-int":0,"bonus-wis":0,"bonus-cha":0},Gnome:{"bonus-str":0,"bonus-dex":0,"bonus-con":0,"bonus-int":2,"bonus-wis":0,"bonus-cha":0},Dragonborn:{"bonus-str":2,"bonus-dex":0,"bonus-con":0,"bonus-int":0,"bonus-wis":0,"bonus-cha":1},Tiefling:{"bonus-str":0,"bonus-dex":0,"bonus-con":0,"bonus-int":1,"bonus-wis":0,"bonus-cha":2}};var ability,abilitySelects,abilityTable,calcAbilityPointsRemaining,calcModifier,i,len,raceSelect,updateAbilityScoreTable;for(abilitySelects=document.querySelectorAll(".ability-select"),raceSelect=document.getElementById("race-select"),abilityTable=document.getElementById("ability-score-table"),calcModifier=function(a){return 10===a?0:9>=a?-1:a>10?Math.floor((a-9)/2):void 0},updateAbilityScoreTable=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(c=raceSelect.value,n=raceBonuses[c],o=Number(document.getElementById("str").value),f=Number(document.getElementById("dex").value),d=Number(document.getElementById("con").value),h=Number(document.getElementById("int").value),q=Number(document.getElementById("wis").value),b=Number(document.getElementById("cha").value),e={str:o,dex:f,con:d,"int":h,wis:q,cha:b},g=0,k=abilities.length;k>g;g++)a=abilities[g],e[a+"-points"]=abilityScore[e[a]].pointsCost;for(a in n)p=n[a],e[a]=Number(p>0)?Number(p):null;for(i=0,l=abilities.length;l>i;i++)a=abilities[i],e["adjusted-"+a]=e["bonus-"+a]>0?e[a]+e["bonus-"+a]:null;for(j=0,m=abilities.length;m>j;j++)a=abilities[j],null!==e["adjusted-"+a]?e[a+"-modifier"]=calcModifier(e["adjusted-"+a]):e[a+"-modifier"]=calcModifier(e[a]);return console.log(e),Transparency.render(abilityTable,e)},calcAbilityPointsRemaining=function(){var a,b,c,d,e,f,g;for(g=0,e=27,b=document.getElementById("points-remaining"),c=0,d=abilitySelects.length;d>c;c++)a=abilitySelects[c],g+=Number(abilityScore[a.value].pointsCost);return f=Number(e-g),0>f?b.className.match(/(?:^|\s)has-error(?!\S)/)||(b.className+=" has-error"):b.className=b.className.replace(/(?:^|\s)has-error(?!\S)/g,""),b.innerHTML=f,updateAbilityScoreTable()},i=0,len=abilitySelects.length;len>i;i++)ability=abilitySelects[i],ability.addEventListener("change",calcAbilityPointsRemaining);raceSelect.addEventListener("change",updateAbilityScoreTable);
//# sourceMappingURL=build.min.js.map